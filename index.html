<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Terminal Style</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Language Switcher -->
        <div style="position: absolute; top: 1.2rem; right: 2rem; z-index: 20;">
            <button class="lang-btn" id="lang-en" data-lang="en" aria-label="Switch to English" style="margin-right: 2px;">EN</button>
            <button class="lang-btn" id="lang-pl" data-lang="pl" aria-label="Switch to Polish">PL</button>
        </div>
        <header>
            <h1 class="terminal-prompt" data-en="$ cat portfolio.txt" data-pl="$ cat portfolio.txt">$
                cat portfolio.txt</h1>
        </header>

        <section class="about-me">
            <h2 class="section-title"
                data-en="# About Me"
                data-pl="# O mnie">
                # About Me
            </h2>
            <p class="terminal-text">
                <span id="typewriter-text"></span><span class="typewriter-cursor">|</span>
            </p>
        </section>

        <section class="skills">
            <h2 class="section-title"
                data-en="# Skills"
                data-pl="# Umiejętności">
                # Skills
            </h2>
            <div class="skills-grid">
                <div class="skill-item">
                    <div class="skill-icon">
                        <!-- HTML5 svg icon -->
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 18L12 6M12 6L18 12M12 6L6 12" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 4L20 4M20 4L20 20M20 20L4 20M4 20L4 4" stroke="#39ff14" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span class="skill-name" data-en="HTML5" data-pl="HTML5">HTML5</span>
                </div>
                <div class="skill-item">
                    <div class="skill-icon">
                        <!-- CSS3 svg icon -->
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 17L12 22L22 17" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 17L22 12" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <span class="skill-name" data-en="CSS3" data-pl="CSS3">CSS3</span>
                </div>
                <div class="skill-item">
                    <div class="skill-icon">
                        <!-- Git svg icon -->
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 20C9 20 4 18 4 13V8C4 3 9 4 9 4M9 20C9 20 15 18 15 13V8C15 3 10 4 10 4M9 20L9 4M15 4L15 20" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <span class="skill-name" data-en="Git" data-pl="Git">Git</span>
                </div>
                <div class="skill-item">
                    <div class="skill-icon">
                        <!-- Cursor AI svg icon -->
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 17L12 22L22 17" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 17L22 12" stroke="#39ff14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="12" cy="12" r="2" fill="#39ff14"/>
                        </svg>
                    </div>
                    <span class="skill-name" data-en="Cursor AI" data-pl="Cursor AI">Cursor AI</span>
                </div>
            </div>
        </section>

        <section class="skill-roadmap">
            <h2 class="section-title"
                data-en="# Skill Roadmap & Growth Tracker"
                data-pl="# Plan Nauki i Postępy">
                # Skill Roadmap & Growth Tracker
            </h2>
            <div class="roadmap-list">
                <div class="skill-tracker-item">
                    <div class="tracker-header">
                        <span class="skill-name" data-en="HTML/CSS" data-pl="HTML/CSS">HTML/CSS</span>
                        <span class="skill-percentage" data-en="80%" data-pl="80%">80%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" data-target="80" style="width: 0%"></div>
                    </div>
                </div>

                <div class="skill-tracker-item">
                    <div class="tracker-header">
                        <span class="skill-name" data-en="Git & GitHub" data-pl="Git & GitHub">Git & GitHub</span>
                        <span class="skill-percentage" data-en="60%" data-pl="60%">60%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" data-target="60" style="width: 0%"></div>
                    </div>
                </div>

                <div class="skill-tracker-item">
                    <div class="tracker-header">
                        <span class="skill-name" data-en="Cursor AI" data-pl="Cursor AI">Cursor AI</span>
                        <span class="skill-percentage" data-en="50%" data-pl="50%">50%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" data-target="50" style="width: 0%"></div>
                    </div>
                </div>

                <div class="skill-tracker-item">
                    <div class="tracker-header">
                        <span class="skill-name" data-en="Python" data-pl="Python">Python</span>
                        <span class="currently-focused-badge"
                            data-en="Currently Focused"
                            data-pl="Obecny priorytet">Currently Focused</span>
                        <span class="skill-percentage"
                            data-en="Learning"
                            data-pl="Uczę się">Learning</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" data-target="25" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="contact">
            <h2 class="section-title"
                data-en="# Contact"
                data-pl="# Kontakt">
                # Contact
            </h2>
            <form class="contact-form" id="contactForm" action="https://formspree.io/f/xykkkvob" method="POST">
                <div class="form-group">
                    <label for="name" class="form-label"
                        data-en="$ Name:"
                        data-pl="$ Imię:">
                        $ Name:
                    </label>
                    <input type="text" id="name" name="name" class="form-input" required
                        data-en-placeholder="Enter your name..."
                        data-pl-placeholder="Podaj swoje imię..."
                        placeholder="Enter your name...">
                </div>

                <div class="form-group">
                    <label for="email" class="form-label"
                        data-en="$ Email:"
                        data-pl="$ Email:">
                        $ Email:
                    </label>
                    <input type="email" id="email" name="email" class="form-input" required
                        data-en-placeholder="your.email@example.com"
                        data-pl-placeholder="twój.email@przyklad.com"
                        placeholder="your.email@example.com">
                </div>

                <div class="form-group">
                    <label for="message" class="form-label"
                        data-en="$ Message:"
                        data-pl="$ Wiadomość:">
                        $ Message:
                    </label>
                    <textarea id="message" name="message" class="form-textarea" required rows="6"
                        data-en-placeholder="Type your message here..."
                        data-pl-placeholder="Wpisz swoją wiadomość tutaj..."
                        placeholder="Type your message here..."></textarea>
                </div>

                <button type="submit" class="submit-button">
                    <span class="command-prompt">$</span>
                    <span class="command-text"
                        data-en="send-message"
                        data-pl="wyślij-wiadomość">send-message</span>
                </button>
            </form>
            <div id="successMessage" class="success-message" style="display: none;">
                <p class="success-text"
                   data-en="&gt; Message sent successfully!"
                   data-pl="&gt; Wiadomość została wysłana!">
                   &gt; Message sent successfully!
                </p>
                <p class="success-text"
                   data-en="&nbsp;&nbsp;[✓] Status: 200 OK"
                   data-pl="&nbsp;&nbsp;[✓] Status: 200 OK">
                   &nbsp;&nbsp;[✓] Status: 200 OK
                </p>
                <p class="success-text"
                   data-en="&nbsp;&nbsp;[✓] Your message has been received."
                   data-pl="&nbsp;&nbsp;[✓] Twoja wiadomość została odebrana.">
                   &nbsp;&nbsp;[✓] Your message has been received.
                </p>
            </div>
        </section>

        <footer class="terminal-cursor">
            <span class="cursor-blink">_</span>
        </footer>
    </div>

    <script>
        // Language switcher logic with localStorage
        (function() {
            const STORAGE_KEY = 'portfolio-language';
            let currentLang = localStorage.getItem(STORAGE_KEY) || 'en';

            function switchLanguage(lang) {
                currentLang = lang;
                
                // Save to localStorage
                localStorage.setItem(STORAGE_KEY, lang);
                
                // Update HTML lang attribute
                document.documentElement.setAttribute('lang', lang);

                // Switch all elements with data-en / data-pl attributes
                document.querySelectorAll('[data-en], [data-pl]').forEach(el => {
                    const targetVal = el.getAttribute('data-' + lang);
                    
                    if (targetVal !== null) {
                        if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) {
                            // Handle placeholders for input/textarea
                            const placeholderAttr = 'data-' + lang + '-placeholder';
                            const placeholder = el.getAttribute(placeholderAttr);
                            if (placeholder !== null) {
                                el.placeholder = placeholder;
                            }
                        } else {
                            // Update HTML content
                            el.innerHTML = targetVal;
                        }
                    }
                });

                // Handle placeholders separately for input/textarea elements
                document.querySelectorAll('[data-en-placeholder], [data-pl-placeholder]').forEach(el => {
                    const placeholder = el.getAttribute('data-' + lang + '-placeholder');
                    if (placeholder !== null) {
                        el.placeholder = placeholder;
                    }
                });

                // Update button active styles
                updateBtnActiveStyles();

                // Restart typewriter effect with new language
                if (typeof typeWriterEffect === 'function') {
                    typeWriterEffect();
                }
            }

            function updateBtnActiveStyles() {
                const enBtn = document.getElementById('lang-en');
                const plBtn = document.getElementById('lang-pl');
                if (enBtn && plBtn) {
                    enBtn.style.opacity = (currentLang === 'en') ? '1' : '0.6';
                    plBtn.style.opacity = (currentLang === 'pl') ? '1' : '0.6';
                }
            }

            // Initialize when DOM is ready
            window.addEventListener('DOMContentLoaded', function() {
                // Set up event listeners for language buttons
                const enBtn = document.getElementById('lang-en');
                const plBtn = document.getElementById('lang-pl');
                
                if (enBtn) {
                    enBtn.addEventListener('click', function() {
                        switchLanguage('en');
                    });
                }
                
                if (plBtn) {
                    plBtn.addEventListener('click', function() {
                        switchLanguage('pl');
                    });
                }

                // Initialize with saved language preference or default to 'en'
                switchLanguage(currentLang);
            });

            // Make switchLanguage available globally for event handlers
            window.switchLanguage = switchLanguage;
        })();

        // Typewriter effect for About Me section text
        let typewriterTimeout = null;
        let typewriterInterval = null;

        function typeWriterEffect() {
            // Clear any existing typewriter animations
            if (typewriterTimeout) {
                clearTimeout(typewriterTimeout);
            }
            if (typewriterInterval) {
                clearInterval(typewriterInterval);
            }

            // Multi-language support - use plain text instead of HTML entities
            const typewriterTextEN = '> A first-year computer science student in Gdańsk. Passionate about clean code and modern tools, I build my projects using Cursor AI, which helps me learn faster and deepen my understanding of software architecture.';
            const typewriterTextPL = '> Student pierwszego roku informatyki w Gdańsku. Pasjonuję się czystym kodem i nowoczesnymi narzędziami. Tworzę projekty używając Cursor AI, co pomaga mi szybciej się uczyć i pogłębiać wiedzę o architekturze oprogramowania.';

            // Check language from documentElement.lang
            let lang = document.documentElement.getAttribute('lang') || 'en';
            let text = (lang === 'pl') ? typewriterTextPL : typewriterTextEN;

            const element = document.getElementById('typewriter-text');
            const cursor = document.querySelector('.typewriter-cursor');
            
            if (!element) return;

            // Clear the element
            element.textContent = '';
            if (cursor) cursor.style.opacity = '1';

            let i = 0;

            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    typewriterTimeout = setTimeout(type, 30);
                } else {
                    // Keep cursor visible after typing completes
                    if (cursor) cursor.style.opacity = '1';
                    typewriterTimeout = null;
                }
            }

            // Start typing after a short delay
            typewriterTimeout = setTimeout(type, 300);
        }

        // Animate progress bars from 0 to target percentage
        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const targetPercentage = bar.getAttribute('data-target');
                let currentPercentage = 0;
                const duration = 1500; // ms
                const steps = duration / 16;
                const stepIncrement = targetPercentage / steps;

                const animate = () => {
                    currentPercentage += stepIncrement;
                    if (currentPercentage < targetPercentage) {
                        bar.style.width = currentPercentage + '%';
                        requestAnimationFrame(animate);
                    } else {
                        bar.style.width = targetPercentage + '%';
                    }
                };
                setTimeout(() => {
                    requestAnimationFrame(animate);
                }, 400);
            });
        }

        // Contact form submission handler (multi-lingual alert)
        window.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
            if (!contactForm) return;

            contactForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const lang = document.documentElement.getAttribute('lang') || 'en';

            const form = this;
            const formData = new FormData(form);
            const successMessage = document.getElementById('successMessage');

            // Show loading state
            const submitButton = form.querySelector('.submit-button');
            const originalButtonText = submitButton.innerHTML;
            submitButton.innerHTML = '<span class="command-prompt">$</span><span class="command-text">' +
                (lang === "pl" ? "wysyłanie..." : "sending...") +
                '</span>';
            submitButton.disabled = true;

            fetch(form.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    form.style.display = 'none';
                    successMessage.style.display = 'block';
                    form.reset();
                    successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    throw new Error('Form submission failed');
                }
            })
            .catch(error => {
                submitButton.innerHTML = originalButtonText;
                submitButton.disabled = false;
                alert(lang === "pl"
                    ? "Błąd: Wiadomość nie została wysłana. Spróbuj ponownie."
                    : "Error: Message could not be sent. Please try again."
                );
            });
        });
        });

        // Initialize all scripts when DOM is ready
        window.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for language switcher to initialize
            setTimeout(function() {
                typeWriterEffect();
                animateProgressBars();
            }, 100);
        });
    </script>
</body>
</html>
